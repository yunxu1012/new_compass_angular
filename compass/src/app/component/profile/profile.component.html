<div class="box">
  <app-menu></app-menu>
  <div class="profile-container">
    <div>
      <label class="titleRow">
        <h2>User Profile</h2>
      </label>
    </div>

    @if (!isEditMode) {
      <div>
        <div class="row">
          <label class="textLabel">First Name:</label>
          {{ customer?.firstName }}
        </div>
        <div class="row">
          <label class="textLabel">Last Name: </label>
          {{ customer?.lastName }}
        </div>
        <div class="row">
          <label class="textLabel">Email: </label>
          {{ customer?.email }}
        </div>
        <div class="row">
          <label class="textLabel">Phone Number:</label>
          {{ customer?.phoneNumber }}
        </div>
        <div class="buttonRow">
          <button (click)="toggleEditMode()">Edit</button>
        </div>
      </div>
    }

    @if (isEditMode) {
      <form [formGroup]="profileForm">
        <div class="row">
          <label class="textLabel" for="firstName">First Name:</label>
          <input id="firstName" type="text" formControlName="firstName">
          @if (profileForm.get('firstName')?.invalid && profileForm.get('firstName')?.touched) {
            <div
              class="error-message">
              First Name is required.
            </div>
          }
        </div>
        <div class="row">
          <label class="textLabel" for="lastName">Last Name:</label>
          <input id="lastName" type="text" formControlName="lastName">
          @if (profileForm.get('lastName')?.invalid && profileForm.get('lastName')?.touched) {
            <div class="error-message">
              Last Name is required.
            </div>
          }
        </div>
        <div class="row">
          <label class="textLabel" for="email">Email:</label>
          <input id="email" type="email" formControlName="email">
          @if (profileForm.get('email')?.invalid && profileForm.get('email')?.touched) {
            <div class="error-message">
              Valid email is required.
            </div>
          }
        </div>
        <div class="row">
          <label class="textLabel" for="phoneNumber">Phone Number:</label>
          <input id="phoneNumber" type="phoneNumber" formControlName="phoneNumber">
          @if (profileForm.get('phoneNumber')?.invalid && profileForm.get('phoneNumber')?.touched) {
            <div
              class="error-message">
              Valid phoneNumber is required.
            </div>
          }
        </div>
        <div class="buttonRow">
          <button type="submit" [disabled]="profileForm.invalid" (click)="saveProfile()">Save</button>
          <button type="button" (click)="cancelEdit()">Cancel</button>
        </div>
      </form>
    }
  </div>
</div>